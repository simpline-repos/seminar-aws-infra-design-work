# 要件定義(AWS)

AWSアカウント要件
AWSネットワーク構成
IAM


## AWSアカウント要件
システムの環境面数、AWSアカウント構成について定義します。<br>
AWSの設計はまずAWSアカウント構成から始まります。なので、どのようなAWSアカウント構成にするかは大事です。お客さんも、AWSアカウントをどのような構成にするのかは想定されていることが多いですが、場合によってはより良いアカウント構成を提案するのも良いでしょう。

### 調達

| 項目                  | 定義する事                                                              | 例                                                                  | 
| --------------------- | ----------------------------------------------------------------------- | ------------------------------------------------------------------- | 
| AWSアカウント用意     | AWSアカウントは新規に調達するか、既存のアカウントを利用するか？         | プロジェクト用に新規AWSアカウントを調達する                         | 
| AWSアカウント初期設定 | AWSアカウントのセキュリティや監査に関わる設計・設定がスコープに入るか？ | AWSアカウントのセキュリティ・監査設計も今回の設計構築の範囲内とする | 


### 構成
AWSアカウントやVPCといった大きな構成について定義します。<br>
本番以外にも複数の環境を構築するのであれば、VPCやAWSアカウントも環境別に分けた方が良いです。アカウントやVPCの構成には様々なパターンがありますが、高度なマルチアカウント構成の設計については本講座の範囲を超えるので、リンクを張るに留めておきます。
[AWS におけるマルチアカウント管理の手法とベストプラクティス](https://d0.awsstatic.com/events/jp/2017/summit/slide/D4T2-2.pdf)
[20210526 AWS Expert Online マルチアカウント管理の基本](https://www.slideshare.net/AmazonWebServicesJapan/20210526-aws-expert-online)

| 項目              | 定義する事                                                                      | 例                              | 
| ----------------- | ------------------------------------------------------------------------------- | ------------------------------- | 
| 環境面数          | 本番環境以外の環境を構築するか？                                                | 本番・ステージング・開発        | 
| VPC構成           | 環境毎にVPCを分けて構築するのが一般的なので、そのような設計で良いかを合意する。 | 環境毎にVPCを作成する           | 
| 拠点接続          | DirectConnectもしくはVPNで、お客さんの拠点とVPCを接続をする要件があるか？       | 自社DCとDirectConnectで接続する | 
| AWSアカウント構成 | AWSアカウントを環境や役割によって分けるか？                                     | 環境毎にAWSアカウントを作成する | 


### 拡張性

場合によっては、AWSアカウントにまた他のシステムを構築したり、VPCに複数のサービスを構築したりという拡張の想定がある場合もあります。専用線等で拠点接続をする場合は特にその傾向があるので、拠点接続をされるお客さんには拡張計画があるかを聞いた方が良いでしょう。

## IAM

AWSアカウント(主にマネジメントコンソール)へのアクセスについてのセキュリティ要件です。

| 項目               | 定義する事                                                                         | 例                                                         | 
| ------------------ | ---------------------------------------------------------------------------------- | ---------------------------------------------------------- | 
| 認証連携           | 認証基盤のようなものを運用されているか？認証連携をおこなうか？                     | OneLoginを利用している。認諸連携を行う                     | 
| パスワードポリシー | パスワードポリシーが定義されているか？                                             | 大文字、小文字、数字、記号の内4種類を使い8文字以上         | 
| アクセス元制限     | アクセス元の場所、IPアドレスを限定するセキュリティポリシーがあるか？               | 本番アカウントは特定のIPアドレスからのみアクセス可能とする | 
| 2要素認証(MFA)     | MFAを利用することが出来るか？MFAを使うことで上記のポリシーを緩和する場合があるか？ | MFAを利用する                                              | 
