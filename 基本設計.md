# 基本設計

基本設計とは、

## 基本設計のインプット・アウトプット

### インプット

前段階の成果物全てがインプットになるが、特に以下が無いと基本設計が行き詰まる。
- 非機能要件定義書

上記では足りないのが殆どなので、このフェーズでも議論や提案は必要

### アウトプット(成果物)

- 基本設計書

## 基本設計で注意するべきこと

PMやPLが注意するべき事、前提として聞いておいた方が良い事等

メンバー・リーダーみんな気を付けるべきこと


# 基本設計で記述すること
基本的に要件定義で出てきた要件をどのような方式で実現するのかを記述するのが基本設計です。

- システムの目的
- システム概要
    - システム構成図
    - ソフトウェア一覧
    - 命名規則
    - タグ
- AWSアカウント設計
    - アカウントセキュリティ
    - IAM ユーザ
- ネットワーク設計
    - VPC・AZ・サブネット構成
    - WAN通信
    - AWS API通信
    - インターネット通信
    - ネットワークセキュリティ
    - DNS,NTPのようなネットワーク基本設計
    - ドメイン
- サーバ系要件
    - 計算基盤
    - サーバ構成
    - OS
    - ミドルウェア
    - アプリケーションサーバ
    - DB
    - LB
    - CDN
    - ストレージ
- 非機能系要件
    - 可用性
        - 稼働率
        - RPO/RTO/RLO
        - BCP・DR
    - 性能・拡張性
        - オンライン性能
        - バッチ性能
        - 性能拡張
        - 容量拡張
    - セキュリティ
        - 脆弱性対策（パッチ）
	    - ウィルス対策
        - 攻撃防御どんな攻撃を想定するか、どんな対策をするか
        - 暗号化
        - 監査
    - 保守・運用性
        - 監視
        - ログ
            - 取得・保管対象ログ
                - アクセス分析系
                - 障害調査系
                - 監査系
            - 保管要件
                - 期間
                - 暗号化有無
        - バックアップ・リストア

## システムの目的
誰に何を提供するのが目的というようなことを書きます。以下のような要素が適宜入っていればいいんではないかと。
- システム主幹（誰が）
- 主なエンドユーザ（誰に）
- どんな機能を提供するのか（何を・どんなことを）
- 非機能について特筆することがあれば（どうやって）
- 補足情報があれば必要に応じて（Why, Where, When）

## システム概要
システムの全体像だったり、共通で適用できるような設計事項を書きます。

### システムの構成図
この設計書の中で設計するもの達を１枚以上の構成図で示します。1枚で収まるなら1枚で、規模が大きくて複数枚に分けないと描ききれないのであれば複数枚に分けるといいでしょう。例えば以下のような図があると思います。
- VPCの中だけの図
- AWSアカウント内のその他リソースも含めた図
- WANや外部連携先も含めた図

### ソフトウェア一覧
システムで利用するソフトウェアの一覧です。OSに追加でインストールするミドルウェアや、パッケージソフトの一覧表を作ります。継続的に更新がかかるような環境ではソフトのバージョン番号までは書かない方が良いです。（個人的にはソフトウェア一覧は不要論を唱えています。サポート切れや脆弱性のあるソフトがないかのチェックに主に使われる資料だと思いますが、昨今のAWS環境ではSSMのインベントリとかで確認するのが良いんじゃないかなぁ......）

### 命名規則
各リソースにどんな命名をするのかです。正直これが一番難しいんじやないかな。。。どんなリソースにも適用できる1つのパターンを作ろうとすると詰むので、なにはこういうパターンで命名するというようなものを作成することになるかと。AWSリソースの命名に加えて、コンピュータのホスト名も命名する場合があります。<br>
注意すべきは、名前に使える文字の種類（大文字や、一部の記号、非アルファベット文字が使えるかどうか。AWSリソースによって使えたり使えなかったりするので注意が必要）や文字数（例えば、Windowsのホスト名は15文字まで、ALB名は32文字まで等）の制約です。

### タグ設計
各AWSリソースにどんなタグ付けをするのかを書きます。まず、どんな目的でタグをつけるよという事を決めて書きます。そして、タグキーの一覧と値の例を表にしてあげると良いかと。以下は代表的なタグの目的です。適宜取捨選択。
